(this["webpackJsonpstatic-blog"]=this["webpackJsonpstatic-blog"]||[]).push([[21],{378:function(e,t,n){},383:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(136),i="increment",s="decrement",a="add_person";var u=n(142),j=[{id:"001",name:"Nice",age:18}];var o=Object(r.c)({count:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.data,r=void 0===c?0:c;switch(n){case i:return e+r;case s:return e-r;default:return e}},persons:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.data;switch(n){case a:return[c].concat(Object(u.a)(e));default:return e}}}),d=n(377),l=Object(r.d)(o,Object(r.a)(d.a)),b=n(137),O=(n(378),n(68),n(65)),h=(n(212),n(201)),x=n(17),p=function(e){return{type:i,data:e}},f=function(e){return{type:s,data:e}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return function(n){setTimeout((function(){n(p(e))}),t)}},m=n(2),g=function(){var e=Object(c.useState)(1),t=Object(x.a)(e,2),n=t[0],r=t[1],i=Object(c.useState)({}),s=Object(x.a)(i,2)[1];return Object(c.useEffect)((function(){l.subscribe((function(){s({})}))}),[]),Object(m.jsxs)("div",{className:"redux-Example",children:[Object(m.jsxs)("h1",{children:["\u73b0\u5728\u7684\u6c42\u548c\u4e3a : ",l.getState().count]}),Object(m.jsxs)(h.a,{defaultValue:"1",onChange:function(e){r(~~e)},children:[Object(m.jsx)(h.a.Option,{value:"1",children:"1"}),Object(m.jsx)(h.a.Option,{value:"2",children:"2"}),Object(m.jsx)(h.a.Option,{value:"3",children:"3"})]}),Object(m.jsx)(O.a,{onClick:function(){l.dispatch(p(n))},children:"+"}),Object(m.jsx)(O.a,{onClick:function(){l.dispatch(f(n))},children:"-"}),Object(m.jsx)(O.a,{onClick:function(){l.getState().count%2===1&&l.dispatch(p(n))},children:"\u5947\u6570\u5728\u52a0"}),Object(m.jsx)(O.a,{onClick:function(){l.dispatch(v(n,300))},children:"\u5f02\u6b65\u52a0"})]})},k=Object(b.b)((function(e){return{count:e.count,person:e.persons.length}}),{increment:p,decrement:f,incrementAsync:v})((function(e){var t=e.count,n=e.increment,r=e.decrement,i=e.incrementAsync,s=e.person,a=Object(c.useState)(1),u=Object(x.a)(a,2),j=u[0],o=u[1];return Object(m.jsxs)("div",{className:"redux-Example",children:[Object(m.jsxs)("h1",{children:["\u73b0\u5728\u7684\u6c42\u548c\u4e3a : ",t,",\u73b0\u5728\u4e0b\u65b9\u7684\u4eba\u6570\u662f: ",s]}),Object(m.jsxs)(h.a,{defaultValue:"1",onChange:function(e){o(~~e)},children:[Object(m.jsx)(h.a.Option,{value:"1",children:"1"}),Object(m.jsx)(h.a.Option,{value:"2",children:"2"}),Object(m.jsx)(h.a.Option,{value:"3",children:"3"})]}),Object(m.jsx)(O.a,{onClick:function(){return n(j)},children:"+"}),Object(m.jsx)(O.a,{onClick:function(){return r(j)},children:"-"}),Object(m.jsx)(O.a,{onClick:function(){t%2===1&&n(j)},children:"\u5947\u6570\u5728\u52a0"}),Object(m.jsx)(O.a,{onClick:function(){return i(j,200)},children:"\u5f02\u6b65\u52a0"})]})})),y=(n(93),n(101)),C=n(105),S=Object(b.b)((function(e){return{persons:e.persons,count:e.count}}),{addPerson:function(e){return{type:a,data:e}}})((function(e){var t,n,c=e.persons,r=e.addPerson,i=e.count;return Object(m.jsxs)("div",{className:"person",children:[Object(m.jsxs)("p",{children:["\u8fd9\u91cc\u7684\u4eba\u6570\u662f:",c.length,",\u4e0a\u9762\u8ba1\u7b97\u603b\u6570:",i," "]}),Object(m.jsx)(y.a,{ref:function(e){return t=e},style:{width:100}}),Object(m.jsx)(y.a,{ref:function(e){return n=e},style:{width:100,marginLeft:10}}),Object(m.jsx)(O.a,{onClick:function(){var e=[t.state.value,~~n.state.value],c=e[0],i=e[1],s=void 0===i?18:i;r({id:Object(C.a)(),name:c,age:s}),t.state.value=n.state.value=""},children:"\u6dfb\u52a0"}),Object(m.jsx)("ul",{children:c.map((function(e){return Object(m.jsxs)("li",{children:["\u59d3\u540d:",e.name,"----\u5e74\u9f84:",e.age," "]},e.id)}))})]})}));t.default=function(){return Object(m.jsxs)("div",{className:"redux-example",children:[Object(m.jsx)("p",{children:"Redux \u7248\u672c"}),Object(m.jsx)("hr",{}),Object(m.jsx)(g,{}),Object(m.jsxs)(b.a,{store:l,children:[Object(m.jsx)("p",{style:{marginTop:50},children:"React Redux \u7248\u672c"}),Object(m.jsx)("hr",{}),Object(m.jsx)(k,{}),Object(m.jsx)("p",{style:{marginTop:50},children:"\u6570\u636e\u5171\u901a\u6d4b\u8bd5"}),Object(m.jsx)("p",{children:"\u987a\u5e26\u6d4b\u8bd5\u4e00\u4e0b,combineReducers \u662f\u600e\u4e48\u5bfb\u627e\u5230\u5bf9\u5e94 reducer \u5e76\u6267\u884c\u7684:"}),Object(m.jsx)("p",{children:"store \u5728\u6267\u884c\u65f6\u5e76\u6ca1\u6709\u5bfb\u627e\u5bf9\u5e94\u9700\u8981\u4fee\u6539\u7684 state \u5e76\u6267\u884c\u5bf9\u5e94\u7684 reducer \u8fdb\u884c\u72b6\u6001\u66f4\u65b0, \u800c\u662f\u6267\u884c\u4e86 store \u4e2d\u6240\u6709\u7684 reducer \u51fd\u6570,\u8fd9\u4e5f\u8981\u6c42\u5728\u5199 reducer \u51fd\u6570\u7684\u65f6\u5019\u5f53\u5339\u914d\u4e0d\u5230\u65f6\u8981\u9ed8\u8ba4\u8fd4\u56de previousState(\u4e4b\u524d\u7684\u72b6\u6001) ,\u5426\u5219\u9664\u53bb\u60f3\u8981\u66f4\u65b0\u7684\u503c,\u5176\u4ed6\u6240\u6709\u72b6\u6001\u90fd\u4f1a\u88ab\u66ff\u6362\u4e3a\u9ed8\u8ba4\u8fd4\u56de\u7684\u503c. \u4f46\u662f\u8fd4\u56de previousState \u7684\u8bdd,\u5c31\u4e0d\u4f1a\u5bfc\u81f4\u5176\u4ed6\u4e0d\u5fc5\u8981\u66f4\u65b0\u7684 state \u88ab\u66f4\u65b0\u4e3a\u9ed8\u8ba4\u8fd4\u56de\u503c."}),Object(m.jsx)("hr",{}),Object(m.jsx)(S,{})]})]})}}}]);